/*Control value output*/
#include "dpram.h"
#include "cpld.h"

unsigned int a_up_alarm,b_up_alarm,c_up_alarm;
unsigned int a_down_alarm,b_down_alarm,c_down_alarm;

volatile unsigned int control_a,control_b,control_c;/*[0,16380]*/
extern volatile float cond_a,cond_b,cond_c;

extern volatile struct DATA_DN data_down;
extern volatile struct DATA_UP data_up;
extern volatile struct CPLD_EXCHG cpld_exchange;

#pragma DATA_SECTION(alpha_data,"CODE_TABLE");
volatile unsigned int alpha_data[4096] = {/*[90d,177] [15999,0]*/
0,848,1068,1223,1346,1451,1542,1623,1697,1766,1829,1888,1944,1997,2047,2095,2141,2185,2227,2268,
2307,2345,2382,2418,2453,2487,2520,2552,2583,2614,2644,2673,2702,2730,2758,2785,2811,2838,2863,2888,
2913,2937,2961,2985,3008,3031,3054,3076,3098,3119,3141,3162,3183,3203,3223,3244,3263,3283,3302,3321,
3340,3359,3378,3396,3414,3432,3450,3467,3485,3502,3519,3536,3553,3570,3586,3602,3619,3635,3651,3667,
3682,3698,3713,3728,3744,3759,3774,3789,3803,3818,3832,3847,3861,3875,3889,3904,3917,3931,3945,3959,
3972,3986,3999,4012,4026,4039,4052,4065,4078,4090,4103,4116,4128,4141,4153,4166,4178,4190,4203,4215,
4227,4239,4251,4263,4274,4286,4298,4309,4321,4332,4344,4355,4367,4378,4389,4400,4411,4422,4433,4444,
4455,4466,4477,4488,4498,4509,4520,4530,4541,4551,4562,4572,4583,4593,4603,4613,4624,4634,4644,4654,
4664,4674,4684,4694,4703,4713,4723,4733,4743,4752,4762,4771,4781,4791,4800,4810,4819,4828,4838,4847,
4856,4866,4875,4884,4893,4902,4911,4920,4929,4938,4947,4956,4965,4974,4983,4992,5001,5009,5018,5027,
5036,5044,5053,5062,5070,5079,5087,5096,5104,5113,5121,5129,5138,5146,5155,5163,5171,5179,5188,5196,
5204,5212,5220,5228,5236,5245,5253,5261,5269,5277,5285,5292,5300,5308,5316,5324,5332,5340,5347,5355,
5363,5371,5378,5386,5394,5401,5409,5417,5424,5432,5439,5447,5454,5462,5469,5477,5484,5492,5499,5506,
5514,5521,5528,5536,5543,5550,5558,5565,5572,5579,5586,5594,5601,5608,5615,5622,5629,5636,5643,5650,
5657,5665,5672,5678,5685,5692,5699,5706,5713,5720,5727,5734,5741,5748,5754,5761,5768,5775,5781,5788,
5795,5802,5808,5815,5822,5828,5835,5842,5848,5855,5862,5868,5875,5881,5888,5894,5901,5907,5914,5920,
5927,5933,5940,5946,5953,5959,5965,5972,5978,5985,5991,5997,6004,6010,6016,6023,6029,6035,6041,6048,
6054,6060,6066,6072,6079,6085,6091,6097,6103,6109,6116,6122,6128,6134,6140,6146,6152,6158,6164,6170,
6176,6182,6188,6194,6200,6206,6212,6218,6224,6230,6236,6242,6248,6254,6259,6265,6271,6277,6283,6289,
6295,6300,6306,6312,6318,6324,6329,6335,6341,6347,6352,6358,6364,6369,6375,6381,6386,6392,6398,6403,
6409,6415,6420,6426,6432,6437,6443,6448,6454,6460,6465,6471,6476,6482,6487,6493,6498,6504,6509,6515,
6520,6526,6531,6537,6542,6548,6553,6558,6564,6569,6575,6580,6585,6591,6596,6601,6607,6612,6618,6623,
6628,6634,6639,6644,6649,6655,6660,6665,6671,6676,6681,6686,6692,6697,6702,6707,6712,6718,6723,6728,
6733,6738,6744,6749,6754,6759,6764,6769,6774,6780,6785,6790,6795,6800,6805,6810,6815,6820,6825,6830,
6836,6841,6846,6851,6856,6861,6866,6871,6876,6881,6886,6891,6896,6901,6906,6911,6916,6921,6925,6930,
6935,6940,6945,6950,6955,6960,6965,6970,6975,6979,6984,6989,6994,6999,7004,7009,7013,7018,7023,7028,
7033,7038,7042,7047,7052,7057,7062,7066,7071,7076,7081,7085,7090,7095,7100,7104,7109,7114,7119,7123,
7128,7133,7137,7142,7147,7151,7156,7161,7166,7170,7175,7180,7184,7189,7193,7198,7203,7207,7212,7217,
7221,7226,7230,7235,7240,7244,7249,7253,7258,7262,7267,7272,7276,7281,7285,7290,7294,7299,7303,7308,
7312,7317,7321,7326,7330,7335,7339,7344,7348,7353,7357,7362,7366,7371,7375,7380,7384,7388,7393,7397,
7402,7406,7411,7415,7419,7424,7428,7433,7437,7441,7446,7450,7455,7459,7463,7468,7472,7476,7481,7485,
7489,7494,7498,7502,7507,7511,7515,7520,7524,7528,7533,7537,7541,7546,7550,7554,7558,7563,7567,7571,
7575,7580,7584,7588,7592,7597,7601,7605,7609,7614,7618,7622,7626,7631,7635,7639,7643,7647,7652,7656,
7660,7664,7668,7672,7677,7681,7685,7689,7693,7697,7702,7706,7710,7714,7718,7722,7726,7731,7735,7739,
7743,7747,7751,7755,7759,7763,7768,7772,7776,7780,7784,7788,7792,7796,7800,7804,7808,7812,7816,7820,
7825,7829,7833,7837,7841,7845,7849,7853,7857,7861,7865,7869,7873,7877,7881,7885,7889,7893,7897,7901,
7905,7909,7913,7917,7921,7925,7929,7933,7937,7940,7944,7948,7952,7956,7960,7964,7968,7972,7976,7980,
7984,7988,7992,7996,7999,8003,8007,8011,8015,8019,8023,8027,8031,8034,8038,8042,8046,8050,8054,8058,
8062,8065,8069,8073,8077,8081,8085,8089,8092,8096,8100,8104,8108,8111,8115,8119,8123,8127,8131,8134,
8138,8142,8146,8150,8153,8157,8161,8165,8169,8172,8176,8180,8184,8187,8191,8195,8199,8202,8206,8210,
8214,8217,8221,8225,8229,8232,8236,8240,8244,8247,8251,8255,8259,8262,8266,8270,8273,8277,8281,8284,
8288,8292,8296,8299,8303,8307,8310,8314,8318,8321,8325,8329,8332,8336,8340,8343,8347,8351,8354,8358,
8362,8365,8369,8373,8376,8380,8383,8387,8391,8394,8398,8402,8405,8409,8412,8416,8420,8423,8427,8430,
8434,8438,8441,8445,8448,8452,8456,8459,8463,8466,8470,8474,8477,8481,8484,8488,8491,8495,8499,8502,
8506,8509,8513,8516,8520,8523,8527,8530,8534,8538,8541,8545,8548,8552,8555,8559,8562,8566,8569,8573,
8576,8580,8583,8587,8590,8594,8597,8601,8604,8608,8611,8615,8618,8622,8625,8629,8632,8636,8639,8643,
8646,8650,8653,8656,8660,8663,8667,8670,8674,8677,8681,8684,8688,8691,8694,8698,8701,8705,8708,8712,
8715,8718,8722,8725,8729,8732,8736,8739,8742,8746,8749,8753,8756,8759,8763,8766,8770,8773,8776,8780,
8783,8787,8790,8793,8797,8800,8803,8807,8810,8814,8817,8820,8824,8827,8830,8834,8837,8840,8844,8847,
8851,8854,8857,8861,8864,8867,8871,8874,8877,8881,8884,8887,8891,8894,8897,8901,8904,8907,8911,8914,
8917,8920,8924,8927,8930,8934,8937,8940,8944,8947,8950,8953,8957,8960,8963,8967,8970,8973,8976,8980,
8983,8986,8990,8993,8996,8999,9003,9006,9009,9012,9016,9019,9022,9026,9029,9032,9035,9039,9042,9045,
9048,9052,9055,9058,9061,9064,9068,9071,9074,9077,9081,9084,9087,9090,9094,9097,9100,9103,9106,9110,
9113,9116,9119,9122,9126,9129,9132,9135,9138,9142,9145,9148,9151,9154,9158,9161,9164,9167,9170,9174,
9177,9180,9183,9186,9189,9193,9196,9199,9202,9205,9208,9212,9215,9218,9221,9224,9227,9231,9234,9237,
9240,9243,9246,9249,9253,9256,9259,9262,9265,9268,9271,9274,9278,9281,9284,9287,9290,9293,9296,9300,
9303,9306,9309,9312,9315,9318,9321,9324,9328,9331,9334,9337,9340,9343,9346,9349,9352,9355,9359,9362,
9365,9368,9371,9374,9377,9380,9383,9386,9389,9392,9396,9399,9402,9405,9408,9411,9414,9417,9420,9423,
9426,9429,9432,9435,9438,9441,9445,9448,9451,9454,9457,9460,9463,9466,9469,9472,9475,9478,9481,9484,
9487,9490,9493,9496,9499,9502,9505,9508,9511,9514,9517,9520,9523,9526,9529,9532,9535,9538,9542,9545,
9548,9551,9554,9557,9560,9563,9566,9569,9572,9575,9578,9581,9584,9587,9589,9592,9595,9598,9601,9604,
9607,9610,9613,9616,9619,9622,9625,9628,9631,9634,9637,9640,9643,9646,9649,9652,9655,9658,9661,9664,
9667,9670,9673,9676,9679,9682,9684,9687,9690,9693,9696,9699,9702,9705,9708,9711,9714,9717,9720,9723,
9726,9729,9732,9734,9737,9740,9743,9746,9749,9752,9755,9758,9761,9764,9767,9770,9772,9775,9778,9781,
9784,9787,9790,9793,9796,9799,9801,9804,9807,9810,9813,9816,9819,9822,9825,9828,9830,9833,9836,9839,
9842,9845,9848,9851,9854,9856,9859,9862,9865,9868,9871,9874,9877,9879,9882,9885,9888,9891,9894,9897,
9899,9902,9905,9908,9911,9914,9917,9920,9922,9925,9928,9931,9934,9937,9939,9942,9945,9948,9951,9954,
9957,9959,9962,9965,9968,9971,9974,9976,9979,9982,9985,9988,9991,9993,9996,9999,10002,10005,10008,10010,
10013,10016,10019,10022,10024,10027,10030,10033,10036,10039,10041,10044,10047,10050,10053,10055,10058,10061,10064,10067,
10069,10072,10075,10078,10081,10083,10086,10089,10092,10095,10097,10100,10103,10106,10108,10111,10114,10117,10120,10122,
10125,10128,10131,10133,10136,10139,10142,10145,10147,10150,10153,10156,10158,10161,10164,10167,10170,10172,10175,10178,
10181,10183,10186,10189,10192,10194,10197,10200,10203,10205,10208,10211,10214,10216,10219,10222,10225,10227,10230,10233,
10236,10238,10241,10244,10247,10249,10252,10255,10257,10260,10263,10266,10268,10271,10274,10277,10279,10282,10285,10288,
10290,10293,10296,10298,10301,10304,10307,10309,10312,10315,10317,10320,10323,10326,10328,10331,10334,10336,10339,10342,
10345,10347,10350,10353,10355,10358,10361,10363,10366,10369,10372,10374,10377,10380,10382,10385,10388,10390,10393,10396,
10398,10401,10404,10406,10409,10412,10415,10417,10420,10423,10425,10428,10431,10433,10436,10439,10441,10444,10447,10449,
10452,10455,10457,10460,10463,10465,10468,10471,10473,10476,10479,10481,10484,10487,10489,10492,10495,10497,10500,10503,
10505,10508,10511,10513,10516,10518,10521,10524,10526,10529,10532,10534,10537,10540,10542,10545,10548,10550,10553,10556,
10558,10561,10563,10566,10569,10571,10574,10577,10579,10582,10584,10587,10590,10592,10595,10598,10600,10603,10605,10608,
10611,10613,10616,10619,10621,10624,10626,10629,10632,10634,10637,10640,10642,10645,10647,10650,10653,10655,10658,10660,
10663,10666,10668,10671,10673,10676,10679,10681,10684,10686,10689,10692,10694,10697,10699,10702,10705,10707,10710,10712,
10715,10718,10720,10723,10725,10728,10730,10733,10736,10738,10741,10743,10746,10749,10751,10754,10756,10759,10761,10764,
10767,10769,10772,10774,10777,10779,10782,10785,10787,10790,10792,10795,10797,10800,10803,10805,10808,10810,10813,10815,
10818,10821,10823,10826,10828,10831,10833,10836,10838,10841,10844,10846,10849,10851,10854,10856,10859,10861,10864,10866,
10869,10872,10874,10877,10879,10882,10884,10887,10889,10892,10894,10897,10900,10902,10905,10907,10910,10912,10915,10917,
10920,10922,10925,10927,10930,10932,10935,10938,10940,10943,10945,10948,10950,10953,10955,10958,10960,10963,10965,10968,
10970,10973,10975,10978,10980,10983,10985,10988,10990,10993,10996,10998,11001,11003,11006,11008,11011,11013,11016,11018,
11021,11023,11026,11028,11031,11033,11036,11038,11041,11043,11046,11048,11051,11053,11056,11058,11061,11063,11066,11068,
11071,11073,11076,11078,11081,11083,11086,11088,11091,11093,11096,11098,11100,11103,11105,11108,11110,11113,11115,11118,
11120,11123,11125,11128,11130,11133,11135,11138,11140,11143,11145,11148,11150,11153,11155,11157,11160,11162,11165,11167,
11170,11172,11175,11177,11180,11182,11185,11187,11190,11192,11194,11197,11199,11202,11204,11207,11209,11212,11214,11217,
11219,11222,11224,11226,11229,11231,11234,11236,11239,11241,11244,11246,11248,11251,11253,11256,11258,11261,11263,11266,
11268,11270,11273,11275,11278,11280,11283,11285,11288,11290,11292,11295,11297,11300,11302,11305,11307,11310,11312,11314,
11317,11319,11322,11324,11327,11329,11331,11334,11336,11339,11341,11344,11346,11348,11351,11353,11356,11358,11361,11363,
11365,11368,11370,11373,11375,11377,11380,11382,11385,11387,11390,11392,11394,11397,11399,11402,11404,11406,11409,11411,
11414,11416,11418,11421,11423,11426,11428,11431,11433,11435,11438,11440,11443,11445,11447,11450,11452,11455,11457,11459,
11462,11464,11467,11469,11471,11474,11476,11479,11481,11483,11486,11488,11490,11493,11495,11498,11500,11502,11505,11507,
11510,11512,11514,11517,11519,11522,11524,11526,11529,11531,11533,11536,11538,11541,11543,11545,11548,11550,11553,11555,
11557,11560,11562,11564,11567,11569,11572,11574,11576,11579,11581,11583,11586,11588,11591,11593,11595,11598,11600,11602,
11605,11607,11609,11612,11614,11617,11619,11621,11624,11626,11628,11631,11633,11635,11638,11640,11643,11645,11647,11650,
11652,11654,11657,11659,11661,11664,11666,11668,11671,11673,11676,11678,11680,11683,11685,11687,11690,11692,11694,11697,
11699,11701,11704,11706,11708,11711,11713,11715,11718,11720,11722,11725,11727,11729,11732,11734,11737,11739,11741,11744,
11746,11748,11751,11753,11755,11758,11760,11762,11765,11767,11769,11772,11774,11776,11779,11781,11783,11786,11788,11790,
11793,11795,11797,11800,11802,11804,11807,11809,11811,11813,11816,11818,11820,11823,11825,11827,11830,11832,11834,11837,
11839,11841,11844,11846,11848,11851,11853,11855,11858,11860,11862,11865,11867,11869,11871,11874,11876,11878,11881,11883,
11885,11888,11890,11892,11895,11897,11899,11901,11904,11906,11908,11911,11913,11915,11918,11920,11922,11925,11927,11929,
11931,11934,11936,11938,11941,11943,11945,11948,11950,11952,11954,11957,11959,11961,11964,11966,11968,11970,11973,11975,
11977,11980,11982,11984,11987,11989,11991,11993,11996,11998,12000,12003,12005,12007,12009,12012,12014,12016,12019,12021,
12023,12025,12028,12030,12032,12035,12037,12039,12041,12044,12046,12048,12051,12053,12055,12057,12060,12062,12064,12066,
12069,12071,12073,12076,12078,12080,12082,12085,12087,12089,12091,12094,12096,12098,12101,12103,12105,12107,12110,12112,
12114,12116,12119,12121,12123,12126,12128,12130,12132,12135,12137,12139,12141,12144,12146,12148,12150,12153,12155,12157,
12159,12162,12164,12166,12168,12171,12173,12175,12178,12180,12182,12184,12187,12189,12191,12193,12196,12198,12200,12202,
12205,12207,12209,12211,12214,12216,12218,12220,12223,12225,12227,12229,12232,12234,12236,12238,12241,12243,12245,12247,
12250,12252,12254,12256,12258,12261,12263,12265,12267,12270,12272,12274,12276,12279,12281,12283,12285,12288,12290,12292,
12294,12297,12299,12301,12303,12306,12308,12310,12312,12314,12317,12319,12321,12323,12326,12328,12330,12332,12335,12337,
12339,12341,12343,12346,12348,12350,12352,12355,12357,12359,12361,12363,12366,12368,12370,12372,12375,12377,12379,12381,
12383,12386,12388,12390,12392,12395,12397,12399,12401,12403,12406,12408,12410,12412,12415,12417,12419,12421,12423,12426,
12428,12430,12432,12435,12437,12439,12441,12443,12446,12448,12450,12452,12454,12457,12459,12461,12463,12465,12468,12470,
12472,12474,12477,12479,12481,12483,12485,12488,12490,12492,12494,12496,12499,12501,12503,12505,12507,12510,12512,12514,
12516,12518,12521,12523,12525,12527,12529,12532,12534,12536,12538,12540,12543,12545,12547,12549,12551,12554,12556,12558,
12560,12562,12565,12567,12569,12571,12573,12575,12578,12580,12582,12584,12586,12589,12591,12593,12595,12597,12600,12602,
12604,12606,12608,12611,12613,12615,12617,12619,12621,12624,12626,12628,12630,12632,12635,12637,12639,12641,12643,12645,
12648,12650,12652,12654,12656,12659,12661,12663,12665,12667,12669,12672,12674,12676,12678,12680,12682,12685,12687,12689,
12691,12693,12696,12698,12700,12702,12704,12706,12709,12711,12713,12715,12717,12719,12722,12724,12726,12728,12730,12732,
12735,12737,12739,12741,12743,12745,12748,12750,12752,12754,12756,12758,12761,12763,12765,12767,12769,12771,12774,12776,
12778,12780,12782,12784,12787,12789,12791,12793,12795,12797,12800,12802,12804,12806,12808,12810,12813,12815,12817,12819,
12821,12823,12825,12828,12830,12832,12834,12836,12838,12841,12843,12845,12847,12849,12851,12853,12856,12858,12860,12862,
12864,12866,12869,12871,12873,12875,12877,12879,12881,12884,12886,12888,12890,12892,12894,12896,12899,12901,12903,12905,
12907,12909,12911,12914,12916,12918,12920,12922,12924,12926,12929,12931,12933,12935,12937,12939,12941,12944,12946,12948,
12950,12952,12954,12956,12959,12961,12963,12965,12967,12969,12971,12974,12976,12978,12980,12982,12984,12986,12988,12991,
12993,12995,12997,12999,13001,13003,13006,13008,13010,13012,13014,13016,13018,13020,13023,13025,13027,13029,13031,13033,
13035,13038,13040,13042,13044,13046,13048,13050,13052,13055,13057,13059,13061,13063,13065,13067,13069,13072,13074,13076,
13078,13080,13082,13084,13086,13089,13091,13093,13095,13097,13099,13101,13103,13105,13108,13110,13112,13114,13116,13118,
13120,13122,13125,13127,13129,13131,13133,13135,13137,13139,13141,13144,13146,13148,13150,13152,13154,13156,13158,13161,
13163,13165,13167,13169,13171,13173,13175,13177,13180,13182,13184,13186,13188,13190,13192,13194,13196,13199,13201,13203,
13205,13207,13209,13211,13213,13215,13217,13220,13222,13224,13226,13228,13230,13232,13234,13236,13239,13241,13243,13245,
13247,13249,13251,13253,13255,13257,13260,13262,13264,13266,13268,13270,13272,13274,13276,13278,13281,13283,13285,13287,
13289,13291,13293,13295,13297,13299,13302,13304,13306,13308,13310,13312,13314,13316,13318,13320,13323,13325,13327,13329,
13331,13333,13335,13337,13339,13341,13343,13346,13348,13350,13352,13354,13356,13358,13360,13362,13364,13366,13369,13371,
13373,13375,13377,13379,13381,13383,13385,13387,13389,13392,13394,13396,13398,13400,13402,13404,13406,13408,13410,13412,
13414,13417,13419,13421,13423,13425,13427,13429,13431,13433,13435,13437,13439,13442,13444,13446,13448,13450,13452,13454,
13456,13458,13460,13462,13464,13467,13469,13471,13473,13475,13477,13479,13481,13483,13485,13487,13489,13491,13494,13496,
13498,13500,13502,13504,13506,13508,13510,13512,13514,13516,13518,13521,13523,13525,13527,13529,13531,13533,13535,13537,
13539,13541,13543,13545,13547,13550,13552,13554,13556,13558,13560,13562,13564,13566,13568,13570,13572,13574,13576,13579,
13581,13583,13585,13587,13589,13591,13593,13595,13597,13599,13601,13603,13605,13607,13610,13612,13614,13616,13618,13620,
13622,13624,13626,13628,13630,13632,13634,13636,13638,13640,13643,13645,13647,13649,13651,13653,13655,13657,13659,13661,
13663,13665,13667,13669,13671,13673,13675,13678,13680,13682,13684,13686,13688,13690,13692,13694,13696,13698,13700,13702,
13704,13706,13708,13710,13713,13715,13717,13719,13721,13723,13725,13727,13729,13731,13733,13735,13737,13739,13741,13743,
13745,13747,13749,13752,13754,13756,13758,13760,13762,13764,13766,13768,13770,13772,13774,13776,13778,13780,13782,13784,
13786,13788,13790,13793,13795,13797,13799,13801,13803,13805,13807,13809,13811,13813,13815,13817,13819,13821,13823,13825,
13827,13829,13831,13833,13836,13838,13840,13842,13844,13846,13848,13850,13852,13854,13856,13858,13860,13862,13864,13866,
13868,13870,13872,13874,13876,13878,13880,13882,13885,13887,13889,13891,13893,13895,13897,13899,13901,13903,13905,13907,
13909,13911,13913,13915,13917,13919,13921,13923,13925,13927,13929,13931,13933,13935,13938,13940,13942,13944,13946,13948,
13950,13952,13954,13956,13958,13960,13962,13964,13966,13968,13970,13972,13974,13976,13978,13980,13982,13984,13986,13988,
13990,13992,13994,13996,13999,14001,14003,14005,14007,14009,14011,14013,14015,14017,14019,14021,14023,14025,14027,14029,
14031,14033,14035,14037,14039,14041,14043,14045,14047,14049,14051,14053,14055,14057,14059,14061,14063,14065,14067,14069,
14072,14074,14076,14078,14080,14082,14084,14086,14088,14090,14092,14094,14096,14098,14100,14102,14104,14106,14108,14110,
14112,14114,14116,14118,14120,14122,14124,14126,14128,14130,14132,14134,14136,14138,14140,14142,14144,14146,14148,14150,
14152,14154,14156,14158,14160,14162,14165,14167,14169,14171,14173,14175,14177,14179,14181,14183,14185,14187,14189,14191,
14193,14195,14197,14199,14201,14203,14205,14207,14209,14211,14213,14215,14217,14219,14221,14223,14225,14227,14229,14231,
14233,14235,14237,14239,14241,14243,14245,14247,14249,14251,14253,14255,14257,14259,14261,14263,14265,14267,14269,14271,
14273,14275,14277,14279,14281,14283,14285,14287,14289,14291,14293,14295,14297,14299,14301,14303,14305,14307,14309,14311,
14313,14315,14317,14319,14322,14324,14326,14328,14330,14332,14334,14336,14338,14340,14342,14344,14346,14348,14350,14352,
14354,14356,14358,14360,14362,14364,14366,14368,14370,14372,14374,14376,14378,14380,14382,14384,14386,14388,14390,14392,
14394,14396,14398,14400,14402,14404,14406,14408,14410,14412,14414,14416,14418,14420,14422,14424,14426,14428,14430,14432,
14434,14436,14438,14440,14442,14444,14446,14448,14450,14452,14454,14456,14458,14460,14462,14464,14466,14468,14470,14472,
14474,14476,14478,14480,14482,14484,14486,14488,14490,14492,14494,14496,14498,14500,14502,14504,14506,14508,14510,14512,
14514,14516,14518,14520,14522,14524,14526,14528,14530,14532,14534,14536,14538,14540,14542,14544,14546,14548,14550,14552,
14554,14556,14558,14560,14561,14563,14565,14567,14569,14571,14573,14575,14577,14579,14581,14583,14585,14587,14589,14591,
14593,14595,14597,14599,14601,14603,14605,14607,14609,14611,14613,14615,14617,14619,14621,14623,14625,14627,14629,14631,
14633,14635,14637,14639,14641,14643,14645,14647,14649,14651,14653,14655,14657,14659,14661,14663,14665,14667,14669,14671,
14673,14675,14677,14679,14681,14683,14685,14687,14689,14691,14693,14695,14697,14699,14701,14703,14705,14707,14709,14711,
14713,14715,14717,14719,14721,14723,14725,14727,14729,14731,14732,14734,14736,14738,14740,14742,14744,14746,14748,14750,
14752,14754,14756,14758,14760,14762,14764,14766,14768,14770,14772,14774,14776,14778,14780,14782,14784,14786,14788,14790,
14792,14794,14796,14798,14800,14802,14804,14806,14808,14810,14812,14814,14816,14818,14820,14822,14824,14826,14828,14830,
14832,14834,14836,14838,14839,14841,14843,14845,14847,14849,14851,14853,14855,14857,14859,14861,14863,14865,14867,14869,
14871,14873,14875,14877,14879,14881,14883,14885,14887,14889,14891,14893,14895,14897,14899,14901,14903,14905,14907,14909,
14911,14913,14915,14917,14919,14921,14923,14925,14926,14928,14930,14932,14934,14936,14938,14940,14942,14944,14946,14948,
14950,14952,14954,14956,14958,14960,14962,14964,14966,14968,14970,14972,14974,14976,14978,14980,14982,14984,14986,14988,
14990,14992,14994,14996,14998,15000,15001,15003,15005,15007,15009,15011,15013,15015,15017,15019,15021,15023,15025,15027,
15029,15031,15033,15035,15037,15039,15041,15043,15045,15047,15049,15051,15053,15055,15057,15059,15061,15063,15065,15067,
15069,15070,15072,15074,15076,15078,15080,15082,15084,15086,15088,15090,15092,15094,15096,15098,15100,15102,15104,15106,
15108,15110,15112,15114,15116,15118,15120,15122,15124,15126,15128,15130,15132,15133,15135,15137,15139,15141,15143,15145,
15147,15149,15151,15153,15155,15157,15159,15161,15163,15165,15167,15169,15171,15173,15175,15177,15179,15181,15183,15185,
15187,15189,15191,15192,15194,15196,15198,15200,15202,15204,15206,15208,15210,15212,15214,15216,15218,15220,15222,15224,
15226,15228,15230,15232,15234,15236,15238,15240,15242,15244,15246,15248,15249,15251,15253,15255,15257,15259,15261,15263,
15265,15267,15269,15271,15273,15275,15277,15279,15281,15283,15285,15287,15289,15291,15293,15295,15297,15299,15301,15302,
15304,15306,15308,15310,15312,15314,15316,15318,15320,15322,15324,15326,15328,15330,15332,15334,15336,15338,15340,15342,
15344,15346,15348,15350,15352,15353,15355,15357,15359,15361,15363,15365,15367,15369,15371,15373,15375,15377,15379,15381,
15383,15385,15387,15389,15391,15393,15395,15397,15399,15401,15403,15404,15406,15408,15410,15412,15414,15416,15418,15420,
15422,15424,15426,15428,15430,15432,15434,15436,15438,15440,15442,15444,15446,15448,15450,15451,15453,15455,15457,15459,
15461,15463,15465,15467,15469,15471,15473,15475,15477,15479,15481,15483,15485,15487,15489,15491,15493,15495,15497,15499,
15500,15502,15504,15506,15508,15510,15512,15514,15516,15518,15520,15522,15524,15526,15528,15530,15532,15534,15536,15538,
15540,15542,15544,15545,15547,15549,15551,15553,15555,15557,15559,15561,15563,15565,15567,15569,15571,15573,15575,15577,
15579,15581,15583,15585,15587,15589,15591,15592,15594,15596,15598,15600,15602,15604,15606,15608,15610,15612,15614,15616,
15618,15620,15622,15624,15626,15628,15630,15632,15634,15635,15637,15639,15641,15643,15645,15647,15649,15651,15653,15655,
15657,15659,15661,15663,15665,15667,15669,15671,15673,15675,15677,15679,15680,15682,15684,15686,15688,15690,15692,15694,
15696,15698,15700,15702,15704,15706,15708,15710,15712,15714,15716,15718,15720,15722,15723,15725,15727,15729,15731,15733,
15735,15737,15739,15741,15743,15745,15747,15749,15751,15753,15755,15757,15759,15761,15763,15765,15766,15768,15770,15772,
15774,15776,15778,15780,15782,15784,15786,15788,15790,15792,15794,15796,15798,15800,15802,15804,15806,15808,15809,15811,
15813,15815,15817,15819,15821,15823,15825,15827,15829,15831,15833,15835,15837,15839,15841,15843,15845,15847,15849,15851,
15852,15854,15856,15858,15860,15862,15864,15866,15868,15870,15872,15874,15876,15878,15880,15882,15884,15886,15888,15890,
15892,15894,15895,15897,15899,15901,15903,15905,15907,15909,15911,15913,15915,15917,15919,15921,15923,15925,15927,15929,
15931,15933,15935,15936,15938,15940,15942,15944,15946,15948,15950,15952,15954,15956,15958,15960,15962,15964,15966,15968,
15970,15972,15974,15976,15978,15979,15981,15983,15985,15987,15989,15991,15993,15995,15997,15999};



/*get alpha value based on alpha table*/
/*input: index[0,16380]*/
/*output: data result [0,15999]*/
/*use lib: alpha_data[]*/
//execute time:0.61us
unsigned int find_table(unsigned int index){

	unsigned int index_table;
	unsigned int result;
	signed int delta_alpha;
	signed int delta_b;
	
	index_table = index / 4;
	delta_b = index - 4*index_table;
	
	delta_alpha = delta_b * (alpha_data[index_table+1] - alpha_data[index_table]) / 4;
	result = alpha_data[index_table] + delta_alpha;
	
	return (result);
}


/*output the alpha value as fit formula*/
//execute time:6.71us.
//input varible:cond_a,cond_b,cond_c,
//              basisa,basisb,basisc.
//				scale.
void control_out(void){

	unsigned int index;

	if(0 == data_down.contrl_word){//dynamic regular.
		/*phase AB*/
		if((cond_a + data_down.basisa) < 0.0){
			index = 0;
		}
		else if((cond_a + data_down.basisa) > 16380.0){
			index = 16380;
		}
		else{
			index = (unsigned int)(cond_a + data_down.basisa);/*[0,16380]*/
		}

		control_a = find_table(index);

		/*phase BC*/
		if((cond_b + data_down.basisb) < 0.0){
			index = 0;
		}
		else if((cond_b + data_down.basisb) > 16380.0){
			index = 16380;
		}
		else{
			index = (unsigned int)(cond_b + data_down.basisb);/*[0,16380]*/
		}

		control_b = find_table(index);

		/*phase CA*/
		if((cond_c + data_down.basisc) < 0.0){
			index = 0;
		}
		else if((cond_c + data_down.basisc) > 16380.0){
			index = 16380;
		}
		else{
			index = (unsigned int)(cond_c + data_down.basisc);/*[0,16380]*/
		}

		control_c = find_table(index);
	}


	else if(1 == data_down.contrl_word){//fix basis input alpha,nonlinear table bypassed.
		/*phase AB*/
		if(data_down.manual_Ba > 16380.0){
			index = 16380;
		}
		else if(data_down.manual_Ba < 0.0){
			index = 0;
		}
		else{
			index = (unsigned int)data_down.manual_Ba;/*[0,16380]*/
		}
		control_a = find_table(index);

		/*phase BC*/
		if(data_down.manual_Bb > 16380.0){
			index = 16380;
		}
		else if(data_down.manual_Bb < 0.0){
			index = 0;
		}
		else{
			index = (unsigned int)data_down.manual_Bb;/*[0,16380]*/
		}
		control_b = find_table(index);

		/*phase CA*/
		if(data_down.manual_Bc > 16380.0){
			index = 16380;
		}
		else if(data_down.manual_Bc < 0.0){
			index = 0;
		}
		else{
			index = (unsigned int)data_down.manual_Bc;/*[0,16380]*/
		}
		control_c = find_table(index);
	}


	else{//stop mode.
		control_a = data_down.downa;
		control_b = data_down.downb;
		control_c = data_down.downc;
	}


	///////////////////////////////////////////////////////////////////
	if(control_a > data_down.upa){//up limit.
		control_a = data_down.upa;
		a_up_alarm = 1;
	}
	else{
		a_up_alarm = 0;
	}
	
	if(control_a < data_down.downa){//down limit.
		control_a = data_down.downa;
		a_down_alarm = 1;
	}
	else{
		a_down_alarm = 0;
	}
	
	//give control_a to CPLD
	cpld_exchange.a_ctrl = control_a;
	cpld_exchange.a_ctrl = control_a;
	cpld_exchange.a_ctrl = control_a;

	///////////////////////////////////////////////////////////////////
	if(control_b > data_down.upb){//up limit.
		control_b = data_down.upb;
		b_up_alarm = 1;
	}
	else{
		b_up_alarm = 0;
	}
	
	if(control_b < data_down.downb){//down limit.
		control_b = data_down.downb;
		b_down_alarm = 1;
	}
	else{
		b_down_alarm = 0;
	}
	
	//give control_b to CPLD
	cpld_exchange.b_ctrl = control_b;
	cpld_exchange.b_ctrl = control_b;
	cpld_exchange.b_ctrl = control_b;

	/////////////////////////////////////////////////////////////////////
	if(control_c > data_down.upc){//up limit.
		control_c = data_down.upc;
		c_up_alarm = 1;
	}
	else{
		c_up_alarm = 0;
	}
	
	if(control_c < data_down.downc){//down limit.
		control_c = data_down.downc;
		c_down_alarm = 1;
	}
	else{
		c_down_alarm = 0;
	}
	
	//give control_c to CPLD
	cpld_exchange.c_ctrl = control_c;
	cpld_exchange.c_ctrl = control_c;
	cpld_exchange.c_ctrl = control_c;
}





//end of file.



